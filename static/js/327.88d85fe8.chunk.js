"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[327],{8327:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var r,i=t(2007),s=t.n(i),a=t(4834),o=t(168),c=t(7691),u=c.ZP.h2(r||(r=(0,o.Z)(["\n  font-size: ","px;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.fontSizes.l}),(function(e){return e.theme.space[4]})),l=t(184),d=function(e){var n=e.title,t=e.children;return(0,l.jsxs)(a.x,{as:"section",p:4,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,l.jsx)(u,{children:n}),t]})};d.propType={title:s().string.isRequired,children:s().object};var m,p,h,f,x,g=t(1413),b=t(885),j=t(4259),v=c.ZP.form(m||(m=(0,o.Z)(["\n  border: 1px solid white;\n  width: 400px;\n  padding: ","px;\n"])),(function(e){return e.theme.space[4]})),Z=c.ZP.label(p||(p=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: ","px;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.space[3]}),(function(e){return e.theme.space[4]})),w=c.ZP.p(h||(h=(0,o.Z)(["\n  color: red;\n"]))),y=t(936),C=t(2791),A=t(5985),k=function(){var e,n,t,r,i=(0,y.wY)().data,s=(0,y.Lr)(),a=(0,b.Z)(s,2),o=a[0],c=a[1],u=c.isSuccess,d=c.isError,m=(0,j.cI)({defaultValues:{name:"",number:""}}),p=m.register,h=m.handleSubmit,f=m.watch,x=m.formState.errors,k=m.resetField,P=f("name"),q=f("number"),S=function(e){return i.find((function(n){return n.name===e}))};return(0,C.useEffect)((function(){u&&A.Am.success("Contact added"),d&&A.Am.error("Oops!! Something went wrong!")}),[u,d]),(0,l.jsxs)(v,{onSubmit:h((function(e){!function(e){S(e.name)?alert("".concat(e.name," is already in contacts.")):(o(e),k("name"),k("number"))}({name:P,number:q})})),autoComplete:"off",children:[(0,l.jsxs)(Z,{children:[(0,l.jsx)("span",{children:"Name"}),(0,l.jsx)("input",(0,g.Z)({value:P,placeholder:"Maks",type:"text"},p("name",{required:{value:!0,message:"This field is required"},pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/g,message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}}))),(null===(e=x.name)||void 0===e?void 0:e.message)&&(0,l.jsx)(w,{children:null===(n=x.name)||void 0===n?void 0:n.message})]}),(0,l.jsxs)(Z,{children:[(0,l.jsx)("span",{children:"Number"}),(0,l.jsx)("input",(0,g.Z)({value:q,placeholder:"1234567890",type:"tel"},p("number",{required:{value:!0,message:"This field is required"},pattern:{value:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/g,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}}))),(null===(t=x.number)||void 0===t?void 0:t.message)&&(0,l.jsx)(w,{children:null===(r=x.number)||void 0===r?void 0:r.message})]}),(0,l.jsx)("button",{type:"submit",children:"Add contact"})]})},P=c.ZP.li(f||(f=(0,o.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n"]))),q=function(e){var n=e.id,t=e.name,r=e.number,i=(0,y.W1)(),s=(0,b.Z)(i,2),a=s[0],o=s[1],c=o.isSuccess,u=o.isLoading,d=o.isError;return(0,C.useEffect)((function(){c&&A.Am.success("Contact deleted"),d&&A.Am.error("Oops!! Something went wrong!")}),[c,d]),(0,l.jsxs)(P,{children:[t,": ",r," ",(0,l.jsx)("button",{type:"button",onClick:function(){return a(n)},disabled:u,children:"Delete"})]})};q.propType={id:s().string.isRequired,name:s().string.isRequired,number:s().string.isRequired};var S,z=c.ZP.ul(x||(x=(0,o.Z)(["\n  border: 1px solid white;\n  width: 400px;\n  padding: ","px;\n"])),(function(e){return e.theme.space[4]})),I=t(5048),F=t(5440),E=function(){var e=(0,y.wY)().data,n=(0,I.v9)(F.YI),t=null===e||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase().includes(n)}));return(0,l.jsx)(z,{children:null!==t&&void 0!==t&&t.length?t.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,l.jsx)(q,{name:t,number:r,id:n},n)})):(0,l.jsx)("li",{children:"No contacts"})})},N=c.ZP.label(S||(S=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: ","px;\n  margin-bottom: ","px;\n  width: 400px;\n"])),(function(e){return e.theme.space[3]}),(function(e){return e.theme.space[4]})),R=function(){var e=(0,j.cI)().control,n=(0,I.v9)(F.YI),t=(0,I.I0)(),r=function(e){t((0,F.KJ)(e.target.value))};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("form",{children:(0,l.jsxs)(N,{children:[(0,l.jsx)("span",{children:"Find contacts"}),(0,l.jsx)(j.Qr,{render:function(e){var t=e.field;return(0,l.jsx)("input",(0,g.Z)((0,g.Z)({},t),{},{onChange:r,value:n}))},name:"filter",control:e,defaultValue:""})]})})})},T=function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{title:"Phonebook",children:(0,l.jsx)(k,{})}),(0,l.jsxs)(d,{title:"Contacts",children:[(0,l.jsx)(R,{}),(0,l.jsx)(E,{})]})]})}}}]);
//# sourceMappingURL=327.88d85fe8.chunk.js.map